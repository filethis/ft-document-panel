<link rel="import" href="../polymer/polymer.html">

<link rel="import" href="../iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../paper-icon-button/paper-icon-button.html">
<link rel="import" href="../iron-icons/iron-icons.html">
<link rel="import" href="../ft-document-list/ft-document-list.html">

<!--
`ft-document-panel`
A panel that displays a list of FileThis documents

@demo demo/index.html
-->

<dom-module id="ft-document-panel">

    <style include="iron-flex iron-flex-alignment"></style>

    <template>

        <div class="layout vertical">
            <div class="layout horizontal">
                <paper-icon-button icon="view-headline" title="Rows" style="color:#777777" toggles="true"></paper-icon-button>
                <paper-icon-button icon="apps" title="Grid" style="color:#777777"></paper-icon-button>
                <paper-icon-button icon="visibility" title="Preview" style="color:#777777"></paper-icon-button>
                <div style="width:16px;"></div>
                <paper-icon-button icon="file-download" title="Download" style="color:#777777" disabled="[[!selectedDocument]]"></paper-icon-button>
                <paper-icon-button icon="delete" title="Delete" style="color:#777777" disabled="[[!selectedDocument]]"></paper-icon-button>
                <div class="flex"></div>
                <div style="width:25px;"></div>
                <paper-icon-button icon="info-outline" title="Details" style="color:#777777"></paper-icon-button>
            </div>
            <ft-document-list id="list"
                              style="overflow:hidden; overflow-y:scroll; border:1px solid #DDD;"
                              documents="[[documents]]">
            <!--<ft-document-list id="list"-->
                              <!--style="overflow:hidden; overflow-y:scroll; border:1px solid #DDD;"-->
                              <!--documents="[[documents]]"-->
                              <!--selectedDocument="{{selectedDocument}}"-->
                              <!--hasSelectedDocument="{{hasSelectedDocument}}">-->
            </ft-document-list>
        </div>

    </template>

    <script type="text/javascript" src="../log4javascript/log4javascript.js"></script>
    <script type="text/javascript">
        var log = log4javascript.getDefaultLogger();
    </script>

    <script>
        Polymer({

            is: 'ft-document-panel',

            properties: {
                documents:
                {
                    type: Array,
                    notify: true,
                    value: []
                },
                selectedDocument:
                {
                    type: Object,
                    notify: true,
                    value: null
                }
            },

            ready: function()
            {
                log.debug("ft-document-panel ready");

                this.$.list.addEventListener("selected-document-changed", function(event) {
                    log.debug("selected-document-changed listener " + event);
                    this.selectedDocument = this.$.list.selectedDocument;
                }.bind(this));
            }
        });
    </script>
</dom-module>
